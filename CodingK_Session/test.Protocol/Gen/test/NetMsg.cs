//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Bright.Serialization;

namespace proto.test
{
    /// <summary>
    /// 你完全可以删除CMD，而是用ProtocolStub.cs的工厂根据protobuf协议号来反序列化。这里只演示用法，具体协议写法可以自己定。
    /// </summary>
    public sealed class NetMsg : Bright.Net.Codecs.Protocol
    {
         public string Info;

         public test.CMD? Cmd;

         public test.Ping Ping;

         public test.ReqLogin ReqLogin;

         public test.RspLogin RspLogin;


        public NetMsg()
        {
        }

        public NetMsg(Bright.Common.NotNullInitialization _)
        {
            Info = "";
            Ping = new test.Ping();
            ReqLogin = new test.ReqLogin();
            RspLogin = new test.RspLogin();
        }
        public const int __ID__ = 9160;

        public override int GetTypeId()
        {
            return __ID__;
        }

        public override void Serialize(ByteBuf _buf)
        {
            { if(Info is string __value__){ _buf.WriteBool(true); _buf.WriteString(__value__); } else { _buf.WriteBool(false); } }
            { if(Cmd is test.CMD __value__){ _buf.WriteBool(true); _buf.WriteInt((int)__value__); } else { _buf.WriteBool(false); } }
            { if(Ping is test.Ping __value__){ _buf.WriteBool(true); test.Ping.SerializePing(_buf, __value__); } else { _buf.WriteBool(false); } }
            { if(ReqLogin is test.ReqLogin __value__){ _buf.WriteBool(true); test.ReqLogin.SerializeReqLogin(_buf, __value__); } else { _buf.WriteBool(false); } }
            { if(RspLogin is test.RspLogin __value__){ _buf.WriteBool(true); test.RspLogin.SerializeRspLogin(_buf, __value__); } else { _buf.WriteBool(false); } }
        }

        public override void Deserialize(ByteBuf _buf)
        {
            if(_buf.ReadBool()){ Info = _buf.ReadString(); } else { Info = null; }
            if(_buf.ReadBool()){ Cmd = (test.CMD)_buf.ReadInt(); } else { Cmd = null; }
            if(_buf.ReadBool()){ Ping = test.Ping.DeserializePing(_buf); } else { Ping = null; }
            if(_buf.ReadBool()){ ReqLogin = test.ReqLogin.DeserializeReqLogin(_buf); } else { ReqLogin = null; }
            if(_buf.ReadBool()){ RspLogin = test.RspLogin.DeserializeRspLogin(_buf); } else { RspLogin = null; }
        }

        public override void Reset()
        {
            throw new System.NotImplementedException();
        }

        public override object Clone()
        {
            throw new System.NotImplementedException();
        }

        public override string ToString()
        {
            return "test.NetMsg{ "
            + "Info:" + Info + ","
            + "Cmd:" + Cmd + ","
            + "Ping:" + Ping + ","
            + "ReqLogin:" + ReqLogin + ","
            + "RspLogin:" + RspLogin + ","
            + "}";
        }
    }

}
